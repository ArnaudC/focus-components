## Technical Configuration
Mixin permettant d'implémenter un panneau de recherche avancée.

## Attributs
<table>
    <thead>
		<tr>
          <th>Attribut</th>
          <th>Options</th>
          <th>valeurs possibles</th>
          <th>valeur par défault</th>
          <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>criteria</code></td>
            <td><i>object</i></td>
            <td><code>{scope: "Scope", searchText: "value"}</code></td>
            <td></td>
            <td>Définit le critère de recherche saisi dans la recherche rapide.</td>
        </tr>
        <tr>
            <td><code>lineMap</code></td>
            <td><i>object</i></td>
            <td><code>{scope1: line}</code></td>
            <td><code>text</code></td>
            <td>Définit la map des différents type de ligne à afficher dans résultats de recherche.</td>
        </tr>
        <tr>
            <td><code>operationList</code></td>
            <td><i>array</i></td>
            <td></td>
            <td><code>[]</code></td>
            <td>Définit la liste des opérations applicable sur un groupe de lignes.</td>
        </tr>
         <tr>
            <td><code>lineOperationList</code></td>
            <td><i>array</i></td>
            <td></td>
            <td><code>[]</code></td>
            <td>Définit la liste des opérations applicable sur une ligne.</td>
        </tr>
        <tr>
            <td><code>facetConfig</code></td>
            <td><i>object</i></td>
            <td><code>{FCT_PAYS: "text", FCT_STATUS: "text"}</code></td>
            <td><code>{}</code></td>
            <td>Définit la liste des facettes disponible pour la recherche avancée.</td>
        </tr>
        <tr>
            <td><code>orderableColumnList</code></td>
            <td><i>array</i></td>
            <td><code>[{key:"col1", order:"desc", label:"Colonne 1 desc"}]</code></td>
            <td><code>{}</code></td>
            <td>Définit la liste des colonnes triables.</td>
        </tr>
        <tr>
            <td><code>groupMaxRows</code></td>
            <td><i>number</i></td>
            <td></td>
            <td><code>3</code></td>
            <td>Définit le nombre de ligne à afficher par groupe pour un grouby sur une colonne.</td>
        </tr>
        <tr>
            <td><code>idField</code></td>
            <td><i>string</i></td>
            <td></td>
            <td>id</td>
            <td>Définit le nom de l'attribut portant l'id sur une ligne.</td>
        </tr>
        <tr>
            <td><code>isSelection</code></td>
            <td><i>boolean</i></td>
            <td></td>
            <td><code>true</code></td>
            <td>Définit si la liste offre la possibilité de sélectionner les lignes de résultat.</td>
        </tr>
        <tr>
            <td><code>onLineClick</code></td>
            <td><i>function</i></td>
            <td></td>
            <td>aucune.</td>
            <td>Définit la fonction à exécuter lors du clic sur une ligne de résultat.</td>
        </tr>
        <tr>
            <td><code>unselectedScopeAction</code></td>
            <td><i>function</i></td>
            <td></td>
            <td>aucune.</td>
            <td>Définit la fonction à exécuter lors du clic sur la suppression du scope de la recherche avancée.</td>
        </tr>
        <tr>
            <td><code>exportAction</code></td>
            <td><i>function</i></td>
            <td></td>
            <td>aucune.</td>
            <td>Définit la fonction à exécuter lors du clic sur le bouton exporter.</td>
        </tr>
   </tbody>
</table>

## Méthodes
<table>
    <thead>
        <tr>
            <th>Méthode</th>
            <th>Paramètres</th>
            <th>Retour</th>
            <th>Description</th>
        </tr>
    </thead>
        <tbody>
            <tr>
                <td><code>liveFilterComponent()</code></td>
                <td>Aucun.</td>
                <td><i>React-component</i></td>
                <td>Retourne le composant filtre par facettes.</td>
            </tr>
            <tr>
                <td><code>isSimpleList()</code></td>
                <td>Aucun.</td>
                <td><i>boolean</i></td>
                <td>Retourne true si le resultat de la recherche est une liste simple et non une liste groupée.</td>
            </tr>
            <tr>
                <td><code>simpleListComponent()</code></td>
                <td>Aucun.</td>
                <td><i>React-component</i></td>
                <td>Retourne une liste de résultats simple. Doit être utilisée lorsque la recherche est effectuée sur un scope.</td>
            </tr>
            <tr>
                <td><code>groupByListComponent()</code></td>
                <td>Aucun.</td>
                <td><i>React-component</i></td>
                <td>Retourne le composant de liste de résultats en mode groupé.Doit être utilisé dans le cas d'une recherche globale.</td>
            </tr>
            <tr>
                <td><code>listSummaryComponent()</code></td>
                <td>Aucun.</td>
                <td><i>React-component</i></td>
                <td>Retourne le composant de liste de résultats en mode groupé.Doit être utilisé dans le cas d'une recherche globale.</td>
            </tr>
            <tr>
                <td><code>actionBarComponent()</code></td>
                <td>Aucun.</td>
                <td><i>React-component</i></td>
                <td>Retourne le composant de barre d'action applicable à la liste.</td>
            </tr>
    </tbody>
</table>

## Evènements
Evènement à définir par l'utilisateur.

<table>
	<thead>
		<tr>
          <th>Evènement</th>
          <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
          <td><code>`line:onClick`</code></td>
          <td>action sur le click d'une ligne.</td>
      </tr>
   </tbody>
</table>

## Utilisation du mixin de recherche-résultats
afin d'uitliser le mixin il est nécessaire de définir deux attributs et deux méthodes :
- attributs : actions et store
- méthodes : render et renderGroupByBlock

```javascript
 React.createClass({
     mixins:[FocusComponents.page.search.filterResult.mixin],
     actions: action,
     store: {[store de recherche]},
     render: function render() {
         var list = this.isSimpleList() ? this.simpleListComponent({type:"test"}) : this.groupByListComponent();
         var root = React.createElement('div', { className: "search-result" },
                 this.liveFilterComponent(),
                 React.createElement(
                         "div",
                         { className: "resultContainer" },
                         this.listSummaryComponent(),
                         this.actionBarComponent(),
                         list
                 )
         );
         return root;
     },
     renderGroupByBlock: function renderGroupByBlock(groupKey, list, maxRows) {
         return React.createElement( "div", { className: "listResultContainer panel" },
                     React.createElement(FocusComponents.common.title.component, { title: groupKey }),
                     this.simpleListComponent({
                         type: "test",
                         list: list,
                         maxRows: maxRows
                     }),
                     React.createElement(FocusComponents.common.button.action.component, { handleOnClick: this.changeGroupByMaxRows(groupKey, 5), label: "Show more" }),
                     React.createElement(FocusComponents.common.button.action.component, { handleOnClick: this.showAllGroupListHandler(groupKey), label: "Show all" })
         );

     }
 })
```

## Dépendances à implémenter
- la structure du répertoire de développement doit être la suivante :

```javascript
_actions
    _search
        index.js
_searchResult
    * line1.jsx
    * line2.jsx
    * preview1.jsx
    * preview2.jsx
    * searchResult.jsx
```

- la recherche nécessite également la création d'un store de type **Focus.store.SearchStore**
- les lignes doivent implémenter le mixin de ligne **Focus.components.list.selection.line.mixin**

## Structure
- un champs de recherche
- une liste de résultat

## Exemple
[Exemple de recherche-résultat](https://github.com/KleeGroup/focus-components/blob/master/page/search/search-result/example/index.html)
## Test
todo
## Démo
[Démo de recherche-résultat](http://kleegroup.github.io/focus-components/page/search/search-result/example/)